/**
 * Enhanced Thinking Indicator Styles
 * Smooth animations and contextual visual feedback
 */

/* Main Container */
.enhanced-thinking-indicator {
  @apply relative flex flex-col gap-2 max-w-full;
  animation: thinking-entrance-enhanced 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Content Layout */
.thinking-content-enhanced {
  @apply flex gap-3 max-w-full;
}

/* Enhanced Avatar with Dynamic Glow */
.thinking-avatar-enhanced {
  @apply relative flex items-center justify-center w-12 h-12 rounded-full shrink-0 mt-1;
  @apply bg-gradient-to-br from-background to-muted border-2;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.avatar-glow-enhanced {
  @apply absolute inset-0 rounded-full opacity-60;
  animation: avatar-pulse-enhanced 2s ease-in-out infinite;
}

.glow-blue {
  background: radial-gradient(circle, rgba(59, 130, 246, 0.3) 0%, transparent 70%);
}

.glow-purple {
  background: radial-gradient(circle, rgba(147, 51, 234, 0.3) 0%, transparent 70%);
}

.glow-green {
  background: radial-gradient(circle, rgba(34, 197, 94, 0.3) 0%, transparent 70%);
}

.avatar-icon-enhanced {
  @apply relative z-10 flex items-center justify-center;
  animation: icon-float-enhanced 3s ease-in-out infinite;
}

/* Enhanced Bubble Body */
.thinking-body-enhanced {
  @apply relative flex flex-col gap-4 p-5 rounded-2xl rounded-bl-md;
  @apply bg-gradient-to-br from-background/95 to-muted/80;
  @apply border border-border/50 shadow-lg backdrop-blur-sm;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  min-width: 320px;
}

.thinking-body-enhanced:hover {
  @apply shadow-xl border-border;
  transform: translateY(-2px);
}

/* Enhanced Header */
.thinking-header-enhanced {
  @apply flex items-center justify-between;
}

.thinking-stage-enhanced {
  @apply flex items-center gap-2;
}

.stage-badge-enhanced {
  @apply flex items-center gap-2 px-3 py-1.5 text-sm font-medium;
  @apply border-2 rounded-full;
  transition: all 0.3s ease;
}

.stage-indicator-enhanced {
  @apply flex items-center justify-center;
}

.stage-label-enhanced {
  @apply font-semibold;
}

.complexity-indicator {
  @apply text-xs opacity-70 ml-1 capitalize;
}

/* Enhanced Controls */
.thinking-controls-enhanced {
  @apply flex items-center gap-1;
}

.control-btn-enhanced {
  @apply w-8 h-8 p-0 rounded-full;
  @apply hover:bg-muted/80 transition-colors;
}

/* Enhanced Progress Indicator */
.thinking-progress-enhanced {
  @apply space-y-2;
}

.progress-header {
  @apply flex items-center justify-between text-sm;
}

.progress-label {
  @apply font-medium text-foreground;
}

.progress-eta {
  @apply text-muted-foreground text-xs;
}

.progress-bar-enhanced {
  @apply h-2 bg-muted rounded-full overflow-hidden;
}

.progress-analyzing .progress-bar-enhanced [data-progress-indicator] {
  @apply bg-gradient-to-r from-blue-400 to-blue-600;
  animation: progress-shimmer 2s ease-in-out infinite;
}

.progress-reasoning .progress-bar-enhanced [data-progress-indicator] {
  @apply bg-gradient-to-r from-purple-400 to-purple-600;
  animation: progress-shimmer 2s ease-in-out infinite;
}

.progress-responding .progress-bar-enhanced [data-progress-indicator] {
  @apply bg-gradient-to-r from-green-400 to-green-600;
  animation: progress-shimmer 2s ease-in-out infinite;
}

/* Enhanced Content */
.thinking-content-text-enhanced {
  @apply space-y-3;
}

.contextual-message {
  @apply text-sm text-foreground font-medium;
  animation: text-fade-in 0.5s ease-out;
}

.thinking-details-enhanced {
  @apply max-h-32 mt-2;
}

.thinking-reasoning-enhanced {
  @apply text-sm text-muted-foreground leading-relaxed;
  @apply p-3 bg-muted/30 rounded-lg border border-border/30;
}

/* Metadata Indicators */
.thinking-metadata-enhanced {
  @apply flex items-center gap-2 mt-2;
}

.metadata-badge {
  @apply text-xs px-2 py-1 capitalize;
}

.complexity-badge {
  @apply text-xs px-2 py-1 capitalize;
}

/* Enhanced AI Facts */
.ai-fact-container-enhanced {
  @apply mt-3 p-3 bg-muted/20 rounded-lg border border-border/20;
  @apply transition-all duration-300 ease-in-out;
}

.ai-fact-rotating {
  @apply opacity-50 scale-95;
}

.ai-fact-header-enhanced {
  @apply flex items-center gap-2 mb-2;
}

.ai-fact-icon-enhanced {
  @apply text-lg;
}

.ai-fact-title-enhanced {
  @apply text-sm font-semibold text-foreground;
}

.ai-fact-content-enhanced {
  @apply text-xs text-muted-foreground leading-relaxed;
}

/* Enhanced Particles */
.thinking-particles-enhanced {
  @apply absolute inset-0 pointer-events-none overflow-hidden rounded-2xl;
}

.thinking-particle-enhanced {
  @apply absolute pointer-events-none;
  animation: particle-float-enhanced 4s ease-in-out infinite;
}

.particle-blue {
  @apply text-blue-400/60;
}

.particle-purple {
  @apply text-purple-400/60;
}

.particle-green {
  @apply text-green-400/60;
}

/* Enhanced Ripple Effect */
.thinking-ripple-enhanced {
  @apply absolute inset-0 pointer-events-none rounded-2xl overflow-hidden;
}

.ripple-circle-enhanced {
  @apply absolute inset-0 border-2 rounded-2xl;
  animation: ripple-pulse-enhanced 3s ease-out infinite;
}

.ripple-blue .ripple-circle-enhanced {
  @apply border-blue-400/20;
}

.ripple-purple .ripple-circle-enhanced {
  @apply border-purple-400/20;
}

.ripple-green .ripple-circle-enhanced {
  @apply border-green-400/20;
}

/* Stage-specific Animations */
.thinking-analyzing {
  animation: thinking-analyze-enhanced 2s ease-in-out infinite;
}

.thinking-reasoning {
  animation: thinking-reason-enhanced 2.5s ease-in-out infinite;
}

.thinking-responding {
  animation: thinking-respond-enhanced 1.8s ease-in-out infinite;
}

/* Complexity-based Adjustments */
.complexity-simple .thinking-body-enhanced {
  @apply border-green-200/50 bg-green-50/20;
}

.complexity-moderate .thinking-body-enhanced {
  @apply border-yellow-200/50 bg-yellow-50/20;
}

.complexity-complex .thinking-body-enhanced {
  @apply border-orange-200/50 bg-orange-50/20;
}

.complexity-advanced .thinking-body-enhanced {
  @apply border-red-200/50 bg-red-50/20;
}

/* Message Type Adjustments */
.type-question .thinking-avatar-enhanced {
  @apply border-blue-300;
}

.type-problem-solving .thinking-avatar-enhanced {
  @apply border-purple-300;
}

.type-creative .thinking-avatar-enhanced {
  @apply border-pink-300;
}

.type-explanation .thinking-avatar-enhanced {
  @apply border-green-300;
}

.type-factual .thinking-avatar-enhanced {
  @apply border-yellow-300;
}

.type-conversational .thinking-avatar-enhanced {
  @apply border-gray-300;
}

/* Keyframe Animations */
@keyframes thinking-entrance-enhanced {
  0% {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes avatar-pulse-enhanced {
  0%, 100% {
    transform: scale(1);
    opacity: 0.6;
  }
  50% {
    transform: scale(1.1);
    opacity: 0.8;
  }
}

@keyframes icon-float-enhanced {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-2px);
  }
}

@keyframes progress-shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

@keyframes text-fade-in {
  0% {
    opacity: 0;
    transform: translateY(10px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes particle-float-enhanced {
  0%, 100% {
    transform: translateY(0) rotate(0deg);
    opacity: 0.3;
  }
  25% {
    transform: translateY(-10px) rotate(90deg);
    opacity: 0.6;
  }
  50% {
    transform: translateY(-5px) rotate(180deg);
    opacity: 0.8;
  }
  75% {
    transform: translateY(-15px) rotate(270deg);
    opacity: 0.4;
  }
}

@keyframes ripple-pulse-enhanced {
  0% {
    transform: scale(1);
    opacity: 0.6;
  }
  50% {
    transform: scale(1.05);
    opacity: 0.3;
  }
  100% {
    transform: scale(1.1);
    opacity: 0;
  }
}

@keyframes thinking-analyze-enhanced {
  0%, 100% {
    filter: brightness(1);
  }
  50% {
    filter: brightness(1.05);
  }
}

@keyframes thinking-reason-enhanced {
  0%, 100% {
    transform: scale(1);
  }
  33% {
    transform: scale(1.01);
  }
  66% {
    transform: scale(0.99);
  }
}

@keyframes thinking-respond-enhanced {
  0%, 100% {
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  }
  50% {
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
  }
}

/* Mobile Responsiveness */
@media (max-width: 768px) {
  .enhanced-thinking-indicator {
    @apply mx-2;
  }

  .thinking-content-enhanced {
    @apply gap-2;
  }

  .thinking-body-enhanced {
    @apply p-4;
    min-width: 280px;
  }

  .thinking-avatar-enhanced {
    @apply w-10 h-10;
  }

  .stage-badge-enhanced {
    @apply px-2 py-1 text-xs;
  }

  .complexity-indicator {
    @apply hidden;
  }
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
  .enhanced-thinking-indicator,
  .thinking-avatar-enhanced,
  .avatar-glow-enhanced,
  .avatar-icon-enhanced,
  .thinking-particle-enhanced,
  .ripple-circle-enhanced {
    animation: none !important;
  }

  .thinking-body-enhanced {
    transition: none !important;
  }

  .enhanced-thinking-indicator {
    @apply opacity-100;
    transform: none;
  }
}

/* High Contrast Mode */
@media (prefers-contrast: high) {
  .thinking-body-enhanced {
    @apply border-2 border-border bg-background;
    backdrop-filter: none;
  }

  .thinking-avatar-enhanced {
    @apply border-2;
  }

  .stage-badge-enhanced {
    @apply border-2;
  }
}

/* Print Styles */
@media print {
  .enhanced-thinking-indicator {
    @apply break-inside-avoid;
  }

  .thinking-particles-enhanced,
  .thinking-ripple-enhanced {
    @apply hidden;
  }
}